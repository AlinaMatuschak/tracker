{"version":3,"sources":["components/Form/Form.jsx","helpers/getSeconds.js","helpers/parseTime.js","components/Tracker-item/Tracker-item.jsx","components/TrackerList/TrackerList.jsx","App.jsx","helpers/saveDataToLocalStorage.js","index.jsx"],"names":["Form","React","memo","onSubmit","useState","trackerName","setTrackerName","changeTrackerName","useCallback","target","value","handleSubmit","event","preventDefault","length","Date","toLocaleDateString","handleKeyDown","key","className","type","placeholder","onChange","onKeyDown","xmlns","viewBox","d","fill","getSeconds","Math","floor","now","parseTime","sec","secondsToParse","hours","mins","seconds","toString","Tracker","tracker","updateTracker","deleteTracker","startTimer","id","time","dataSeconds","useEffect","timex","setTimeout","isTimerOn","clearInterval","trackerPlayToggel","timeOutStart","timeOut","handelDeleteTracker","classNames","name","Object","values","join","onClick","enableBackground","fillRule","height","width","x","y","TrackerList","trackers","map","App","setTackers","trackersFromLocalStorage","localStorage","getItem","updatedTrackers","JSON","parse","useBeforeunload","data","setItem","stringify","addTracker","currentTrackers","shortid","generate","trackerId","renewal","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5afa708.chunk.js","sourcesContent":["import React, { useCallback, useState } from 'react';\nimport './Form.scss';\n\nexport const Form = React.memo(({ onSubmit }) => {\n  const [trackerName, setTrackerName] = useState('');\n\n  const changeTrackerName = useCallback(({ target }) => {\n    setTrackerName(target.value);\n  }, [setTrackerName]);\n\n  const handleSubmit = useCallback((event) => {\n    event.preventDefault();\n\n    trackerName.length\n      ? onSubmit(trackerName)\n      : onSubmit((new Date()).toLocaleDateString());\n\n    setTrackerName('');\n  }, [trackerName, onSubmit]);\n\n  const handleKeyDown = useCallback((event) => {\n    if (event.key !== 'Enter') {\n      return;\n    }\n\n    handleSubmit(event);\n  });\n\n  return (\n    <form\n      className=\"form\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"form__input\"\n        placeholder=\"Enter tracker name\"\n        value={trackerName}\n        onChange={changeTrackerName}\n        onKeyDown={handleKeyDown}\n      />\n      <button\n        type=\"submit\"\n        className=\"form__button\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          className=\"form__start-icon\"\n        >\n          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          <path d=\"M8 5v14l11-7z\" />\n        </svg>\n      </button>\n    </form>\n  );\n});\n","export const getSeconds = () => Math.floor(Date.now() / 1000);\n","export const parseTime = (sec) => {\n  let secondsToParse = sec;\n  let hours = 0;\n  let mins = 0;\n  let seconds = 0;\n\n  if (secondsToParse >= 3600) {\n    hours = Math.floor(secondsToParse / 3600);\n    secondsToParse -= hours * 3600;\n  }\n\n  if (secondsToParse >= 60) {\n    mins = Math.floor(secondsToParse / 60);\n    secondsToParse -= mins * 60;\n  }\n\n  seconds = secondsToParse % 60;\n\n  seconds = seconds < 10 ? `0${seconds}` : seconds.toString();\n  mins = mins < 10 ? `0${mins}` : mins.toString();\n  hours = hours < 10 ? `0${hours}` : hours.toString();\n\n  return {\n    hours,\n    mins,\n    seconds,\n  };\n};\n","import React, { useCallback, useEffect } from 'react';\nimport classNames from 'classnames';\nimport './Tracker-item.scss';\nimport { getSeconds } from '../../helpers/getSeconds';\nimport { parseTime } from '../../helpers/parseTime';\n\nexport const Tracker = React.memo(({\n  tracker,\n  updateTracker,\n  deleteTracker,\n}) => {\n  const startTimer = useCallback(() => {\n    updateTracker(tracker.id, {\n      time: parseTime(getSeconds() - tracker.dataSeconds),\n    });\n  }, [tracker, updateTracker, parseTime, getSeconds]);\n\n  useEffect(() => {\n    const timex = setTimeout(() => {\n      startTimer();\n    }, 500);\n\n    if (!tracker.isTimerOn) {\n      clearInterval(timex);\n    }\n  }, [tracker.isTimerOn, setTimeout, clearInterval, startTimer]);\n\n  const trackerPlayToggel = useCallback(() => {\n    if (tracker.isTimerOn) {\n      updateTracker(tracker.id, {\n        isTimerOn: !tracker.isTimerOn,\n        timeOutStart: getSeconds(),\n      });\n    } else {\n      const timeOut = getSeconds() - tracker.timeOutStart;\n\n      updateTracker(tracker.id, {\n        isTimerOn: !tracker.isTimerOn,\n        dataSeconds: tracker.dataSeconds + timeOut,\n        timeOutStart: null,\n      });\n    }\n  }, [updateTracker, tracker, getSeconds]);\n\n  const handelDeleteTracker = useCallback(() => {\n    deleteTracker(tracker.id);\n  }, [deleteTracker, tracker]);\n\n  return (\n    <div className={classNames('tracker-item', {\n      'tracker-item--active': tracker.isTimerOn,\n    })}\n    >\n      <p className=\"tracker-item__name\">{tracker.name}</p>\n      <div className=\"tracker-item__time-controlers\">\n        <span className=\"tracker-item__time\">\n          {Object.values(tracker.time).join(':')}\n        </span>\n\n        <button\n          type=\"button\"\n          className=\"tracker-item__button\"\n          onClick={trackerPlayToggel}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            className=\"tracker-item__svg\"\n          >\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            {tracker.isTimerOn\n              ? <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" />\n              : <path d=\"M8 5v14l11-7z\" />\n            }\n          </svg>\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"tracker-item__button tracker-item__button--dangerous\"\n          onClick={handelDeleteTracker}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            enableBackground=\"new 0 0 24 24\"\n            viewBox=\"0 0 24 24\"\n            className=\"tracker-item__svg\"\n          >\n            <g>\n              <rect fill=\"none\" fillRule=\"evenodd\" height=\"24\" width=\"24\" />\n              <rect fillRule=\"evenodd\" height=\"3\" width=\"16\" x=\"4\" y=\"11\" />\n            </g>\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n});\n","import React from 'react';\nimport { Tracker } from '../Tracker-item';\nimport './TrackerList.scss';\n\nexport const TrackerList = React.memo(({\n  trackers,\n  updateTracker,\n  deleteTracker,\n}) => (\n  <ul className=\"list\">\n    {trackers.map(tracker => (\n      <li key={tracker.id} className=\"list__item\">\n        <Tracker\n          tracker={tracker}\n          updateTracker={updateTracker}\n          deleteTracker={deleteTracker}\n        />\n      </li>\n    ))}\n  </ul>\n));\n","import React, { useCallback, useEffect, useState } from 'react';\nimport shortid from 'shortid';\nimport { useBeforeunload } from 'react-beforeunload';\n\nimport './App.scss';\nimport { Form } from './components/Form/Form';\nimport { TrackerList } from './components/TrackerList';\nimport { getSeconds } from './helpers/getSeconds';\nimport { parseTime } from './helpers/parseTime';\nimport { saveDataToLocalStorage } from './helpers/saveDataToLocalStorage';\n\nexport const App = React.memo(() => {\n  const [trackers, setTackers] = useState([]);\n\n  useEffect(() => {\n    const trackersFromLocalStorage = localStorage.getItem('trackers') || [];\n    const parsedTrackers = JSON.parse(trackersFromLocalStorage);\n\n    const updatedTrackers = parsedTrackers.map(tracker => (tracker.isTimerOn\n      ? ({\n        ...tracker,\n        time: parseTime(getSeconds() - tracker.dataSeconds),\n      })\n      : tracker));\n\n    setTackers(updatedTrackers);\n  }, []);\n\n  useBeforeunload((event) => {\n    event.preventDefault();\n    saveDataToLocalStorage('trackers', trackers);\n  });\n\n  const addTracker = useCallback((trackerName) => {\n    setTackers(currentTrackers => ([\n      {\n        id: shortid.generate(),\n        name: trackerName,\n        time: {\n          hours: '00',\n          mins: '00',\n          seconds: '00',\n        },\n        dataSeconds: getSeconds(),\n        timeOutStart: null,\n        isTimerOn: true,\n      },\n      ...currentTrackers,\n    ]));\n  }, [setTackers, shortid, getSeconds]);\n\n  const updateTracker = useCallback((trackerId, renewal) => {\n    setTackers(currentTrackers => currentTrackers\n      .map(tracker => (tracker.id === trackerId\n        ? {\n          ...tracker,\n          ...renewal,\n        }\n        : tracker)),\n    [setTackers]);\n  });\n\n  const deleteTracker = useCallback((trackerId) => {\n    setTackers(currentTrackers => currentTrackers\n      .filter(tracker => tracker.id !== trackerId));\n  }, [setTackers]);\n\n  return (\n    <section className=\"tracker\">\n      <h1 className=\"tracker__title\">tracker</h1>\n      <div className=\"tracker__content\">\n        <Form onSubmit={addTracker} />\n\n        <TrackerList\n          trackers={trackers}\n          updateTracker={updateTracker}\n          deleteTracker={deleteTracker}\n        />\n      </div>\n    </section>\n  );\n});\n","export const saveDataToLocalStorage = (name, data) => {\n  localStorage.setItem(name, JSON.stringify(data));\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './main.scss';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}