{"version":3,"sources":["components/Form/Form.jsx","helpers/getSeconds.js","helpers/parseTime.js","components/Tracker-item/Tracker-item.jsx","components/TrackerList/TrackerList.jsx","App.jsx","helpers/saveDataToLocalStorage.js","index.jsx"],"names":["Form","React","memo","onSubmit","useState","trackerName","setTrackerName","changeTrackerName","useCallback","target","value","handleSubmit","event","preventDefault","length","Date","toLocaleDateString","handleKeyDown","key","className","type","placeholder","onChange","onKeyDown","xmlns","viewBox","d","fill","getSeconds","Math","floor","now","parseTime","sec","secondsToParse","hours","mins","seconds","toString","Tracker","tracker","updateTracker","deleteTracker","startTimer","id","time","dataSeconds","useEffect","timex","setTimeout","isTimerOn","clearInterval","trackerPlayToggel","timeOutStart","timeOut","handelDeleteTracker","classNames","name","Object","values","join","onClick","enableBackground","fillRule","height","width","x","y","TrackerList","trackers","map","App","setTackers","trackersFromLocalStorage","localStorage","getItem","parsedTrackers","JSON","parse","updatedTrackers","useBeforeunload","data","setItem","stringify","addTracker","currentTrackers","shortid","generate","trackerId","renewal","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bbf9a7d8.chunk.js","sourcesContent":["import React, { useCallback, useState } from 'react';\r\nimport './Form.scss';\r\n\r\nexport const Form = React.memo(({ onSubmit }) => {\r\n  const [trackerName, setTrackerName] = useState('');\r\n\r\n  const changeTrackerName = useCallback(({ target }) => {\r\n    setTrackerName(target.value);\r\n  }, [setTrackerName]);\r\n\r\n  const handleSubmit = useCallback((event) => {\r\n    event.preventDefault();\r\n\r\n    trackerName.length\r\n      ? onSubmit(trackerName)\r\n      : onSubmit((new Date()).toLocaleDateString());\r\n\r\n    setTrackerName('');\r\n  }, [trackerName, onSubmit]);\r\n\r\n  const handleKeyDown = useCallback((event) => {\r\n    if (event.key !== 'Enter') {\r\n      return;\r\n    }\r\n\r\n    handleSubmit(event);\r\n  });\r\n\r\n  return (\r\n    <form\r\n      className=\"form\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"form__input\"\r\n        placeholder=\"Enter tracker name\"\r\n        value={trackerName}\r\n        onChange={changeTrackerName}\r\n        onKeyDown={handleKeyDown}\r\n      />\r\n      <button\r\n        type=\"submit\"\r\n        className=\"form__button\"\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 24 24\"\r\n          className=\"form__start-icon\"\r\n        >\r\n          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n          <path d=\"M8 5v14l11-7z\" />\r\n        </svg>\r\n      </button>\r\n    </form>\r\n  );\r\n});\r\n","export const getSeconds = () => Math.floor(Date.now() / 1000);\r\n","export const parseTime = (sec) => {\r\n  let secondsToParse = sec;\r\n  let hours = 0;\r\n  let mins = 0;\r\n  let seconds = 0;\r\n\r\n  if (secondsToParse >= 3600) {\r\n    hours = Math.floor(secondsToParse / 3600);\r\n    secondsToParse -= hours * 3600;\r\n  }\r\n\r\n  if (secondsToParse >= 60) {\r\n    mins = Math.floor(secondsToParse / 60);\r\n    secondsToParse -= mins * 60;\r\n  }\r\n\r\n  seconds = secondsToParse % 60;\r\n\r\n  seconds = seconds < 10 ? `0${seconds}` : seconds.toString();\r\n  mins = mins < 10 ? `0${mins}` : mins.toString();\r\n  hours = hours < 10 ? `0${hours}` : hours.toString();\r\n\r\n  return {\r\n    hours,\r\n    mins,\r\n    seconds,\r\n  };\r\n};\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport classNames from 'classnames';\r\nimport './Tracker-item.scss';\r\nimport { getSeconds } from '../../helpers/getSeconds';\r\nimport { parseTime } from '../../helpers/parseTime';\r\n\r\nexport const Tracker = React.memo(({\r\n  tracker,\r\n  updateTracker,\r\n  deleteTracker,\r\n}) => {\r\n  const startTimer = useCallback(() => {\r\n    updateTracker(tracker.id, {\r\n      time: parseTime(getSeconds() - tracker.dataSeconds),\r\n    });\r\n  }, [tracker, updateTracker, parseTime, getSeconds]);\r\n\r\n  useEffect(() => {\r\n    const timex = setTimeout(() => {\r\n      startTimer();\r\n    }, 500);\r\n\r\n    if (!tracker.isTimerOn) {\r\n      clearInterval(timex);\r\n    }\r\n  }, [tracker.isTimerOn, setTimeout, clearInterval, startTimer]);\r\n\r\n  const trackerPlayToggel = useCallback(() => {\r\n    if (tracker.isTimerOn) {\r\n      updateTracker(tracker.id, {\r\n        isTimerOn: !tracker.isTimerOn,\r\n        timeOutStart: getSeconds(),\r\n      });\r\n    } else {\r\n      const timeOut = getSeconds() - tracker.timeOutStart;\r\n\r\n      updateTracker(tracker.id, {\r\n        isTimerOn: !tracker.isTimerOn,\r\n        dataSeconds: tracker.dataSeconds + timeOut,\r\n        timeOutStart: null,\r\n      });\r\n    }\r\n  }, [updateTracker, tracker, getSeconds]);\r\n\r\n  const handelDeleteTracker = useCallback(() => {\r\n    deleteTracker(tracker.id);\r\n  }, [deleteTracker, tracker]);\r\n\r\n  return (\r\n    <div className={classNames('tracker-item', {\r\n      'tracker-item--active': tracker.isTimerOn,\r\n    })}\r\n    >\r\n      <p className=\"tracker-item__name\">{tracker.name}</p>\r\n      <div className=\"tracker-item__time-controlers\">\r\n        <span className=\"tracker-item__time\">\r\n          {Object.values(tracker.time).join(':')}\r\n        </span>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"tracker-item__button\"\r\n          onClick={trackerPlayToggel}\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 24 24\"\r\n            className=\"tracker-item__svg\"\r\n          >\r\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n            {tracker.isTimerOn\r\n              ? <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" />\r\n              : <path d=\"M8 5v14l11-7z\" />\r\n            }\r\n          </svg>\r\n        </button>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"tracker-item__button tracker-item__button--dangerous\"\r\n          onClick={handelDeleteTracker}\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            enableBackground=\"new 0 0 24 24\"\r\n            viewBox=\"0 0 24 24\"\r\n            className=\"tracker-item__svg\"\r\n          >\r\n            <g>\r\n              <rect fill=\"none\" fillRule=\"evenodd\" height=\"24\" width=\"24\" />\r\n              <rect fillRule=\"evenodd\" height=\"3\" width=\"16\" x=\"4\" y=\"11\" />\r\n            </g>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Tracker } from '../Tracker-item';\r\nimport './TrackerList.scss';\r\n\r\nexport const TrackerList = React.memo(({\r\n  trackers,\r\n  updateTracker,\r\n  deleteTracker,\r\n}) => (\r\n  <ul className=\"list\">\r\n    {trackers.map(tracker => (\r\n      <li key={tracker.id} className=\"list__item\">\r\n        <Tracker\r\n          tracker={tracker}\r\n          updateTracker={updateTracker}\r\n          deleteTracker={deleteTracker}\r\n        />\r\n      </li>\r\n    ))}\r\n  </ul>\r\n));\r\n","import React, { useCallback, useEffect, useState } from 'react';\nimport shortid from 'shortid';\nimport { useBeforeunload } from 'react-beforeunload';\n\nimport './App.scss';\nimport { Form } from './components/Form/Form';\nimport { TrackerList } from './components/TrackerList';\nimport { getSeconds } from './helpers/getSeconds';\nimport { parseTime } from './helpers/parseTime';\nimport { saveDataToLocalStorage } from './helpers/saveDataToLocalStorage';\n\nexport const App = React.memo(() => {\n  const [trackers, setTackers] = useState([]);\n\n  useEffect(() => {\n    const trackersFromLocalStorage = localStorage.getItem('trackers');\n    let parsedTrackers = [];\n\n    if (trackersFromLocalStorage) {\n      parsedTrackers = JSON.parse(trackersFromLocalStorage);\n    }\n\n    const updatedTrackers = parsedTrackers.map(tracker => (tracker.isTimerOn\n      ? ({\n        ...tracker,\n        time: parseTime(getSeconds() - tracker.dataSeconds),\n      })\n      : tracker));\n\n    setTackers(updatedTrackers);\n  }, []);\n\n  useBeforeunload((event) => {\n    event.preventDefault();\n    saveDataToLocalStorage('trackers', trackers);\n  });\n\n  const addTracker = useCallback((trackerName) => {\n    setTackers(currentTrackers => ([\n      {\n        id: shortid.generate(),\n        name: trackerName,\n        time: {\n          hours: '00',\n          mins: '00',\n          seconds: '00',\n        },\n        dataSeconds: getSeconds(),\n        timeOutStart: null,\n        isTimerOn: true,\n      },\n      ...currentTrackers,\n    ]));\n  }, [setTackers, shortid, getSeconds]);\n\n  const updateTracker = useCallback((trackerId, renewal) => {\n    setTackers(currentTrackers => currentTrackers\n      .map(tracker => (tracker.id === trackerId\n        ? {\n          ...tracker,\n          ...renewal,\n        }\n        : tracker)),\n    [setTackers]);\n  });\n\n  const deleteTracker = useCallback((trackerId) => {\n    setTackers(currentTrackers => currentTrackers\n      .filter(tracker => tracker.id !== trackerId));\n  }, [setTackers]);\n\n  return (\n    <section className=\"tracker\">\n      <h1 className=\"tracker__title\">tracker</h1>\n      <div className=\"tracker__content\">\n        <Form onSubmit={addTracker} />\n\n        <TrackerList\n          trackers={trackers}\n          updateTracker={updateTracker}\n          deleteTracker={deleteTracker}\n        />\n      </div>\n    </section>\n  );\n});\n","export const saveDataToLocalStorage = (name, data) => {\r\n  localStorage.setItem(name, JSON.stringify(data));\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './main.scss';\r\nimport { App } from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}