(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{18:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),r=c.n(a),i=c(9),s=c.n(i),o=(c(18),c(11)),l=c(3),u=c(6),m=c(8),j=c.n(m),b=c(12),O=(c(30),c(31),r.a.memo((function(e){var t=e.onSubmit,c=Object(a.useState)(""),r=Object(u.a)(c,2),i=r[0],s=r[1],o=Object(a.useCallback)((function(e){var t=e.target;s(t.value)}),[s]),l=Object(a.useCallback)((function(e){e.preventDefault(),i.length?t(i):t((new Date).toLocaleDateString()),s("")}),[i,t]),m=Object(a.useCallback)((function(e){"Enter"===e.key&&l(e)}));return Object(n.jsxs)("form",{className:"form",onSubmit:l,children:[Object(n.jsx)("input",{type:"text",className:"form__input",placeholder:"Enter tracker name",value:i,onChange:o,onKeyDown:m}),Object(n.jsx)("button",{type:"submit",className:"form__button",children:Object(n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"form__start-icon",children:[Object(n.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(n.jsx)("path",{d:"M8 5v14l11-7z"})]})})]})}))),d=c(10),f=c.n(d),h=(c(32),function(){return Math.floor(Date.now()/1e3)}),k=function(e){var t=e,c=0,n=0,a=0;return t>=3600&&(t-=3600*(c=Math.floor(t/3600))),t>=60&&(t-=60*(n=Math.floor(t/60))),a=(a=t%60)<10?"0".concat(a):a.toString(),n=n<10?"0".concat(n):n.toString(),{hours:c=c<10?"0".concat(c):c.toString(),mins:n,seconds:a}},v=r.a.memo((function(e){var t=e.tracker,c=e.updateTracker,r=e.deleteTracker,i=Object(a.useCallback)((function(){c(t.id,{time:k(h()-t.dataSeconds)})}),[t,c,k,h]);Object(a.useEffect)((function(){var e=setTimeout((function(){i()}),500);t.isTimerOn||clearInterval(e)}),[t.isTimerOn,setTimeout,clearInterval,i]);var s=Object(a.useCallback)((function(){if(t.isTimerOn)c(t.id,{isTimerOn:!t.isTimerOn,timeOutStart:h()});else{var e=h()-t.timeOutStart;c(t.id,{isTimerOn:!t.isTimerOn,dataSeconds:t.dataSeconds+e,timeOutStart:null})}}),[c,t,h]),o=Object(a.useCallback)((function(){r(t.id)}),[r,t]);return Object(n.jsxs)("div",{className:f()("tracker-item",{"tracker-item--active":t.isTimerOn}),children:[Object(n.jsx)("p",{className:"tracker-item__name",children:t.name}),Object(n.jsxs)("div",{className:"tracker-item__time-controlers",children:[Object(n.jsx)("span",{className:"tracker-item__time",children:Object.values(t.time).join(":")}),Object(n.jsx)("button",{type:"button",className:"tracker-item__button",onClick:s,children:Object(n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"tracker-item__svg",children:[Object(n.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),t.isTimerOn?Object(n.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}):Object(n.jsx)("path",{d:"M8 5v14l11-7z"})]})}),Object(n.jsx)("button",{type:"button",className:"tracker-item__button tracker-item__button--dangerous",onClick:o,children:Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",viewBox:"0 0 24 24",className:"tracker-item__svg",children:Object(n.jsxs)("g",{children:[Object(n.jsx)("rect",{fill:"none",fillRule:"evenodd",height:"24",width:"24"}),Object(n.jsx)("rect",{fillRule:"evenodd",height:"3",width:"16",x:"4",y:"11"})]})})})]})]})})),x=(c(33),r.a.memo((function(e){var t=e.trackers,c=e.updateTracker,a=e.deleteTracker;return Object(n.jsx)("ul",{className:"list",children:t.map((function(e){return Object(n.jsx)("li",{className:"list__item",children:Object(n.jsx)(v,{tracker:e,updateTracker:c,deleteTracker:a})},e.id)}))})}))),p=r.a.memo((function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],r=t[1];Object(a.useEffect)((function(){var e=localStorage.getItem("trackers"),t=[];e&&(t=JSON.parse(e));var c=t.map((function(e){return e.isTimerOn?Object(l.a)(Object(l.a)({},e),{},{time:k(h()-e.dataSeconds)}):e}));r(c)}),[]),Object(b.a)((function(e){var t,n;e.preventDefault(),t="trackers",n=c,localStorage.setItem(t,JSON.stringify(n))}));var i=Object(a.useCallback)((function(e){r((function(t){return[{id:j.a.generate(),name:e,time:{hours:"00",mins:"00",seconds:"00"},dataSeconds:h(),timeOutStart:null,isTimerOn:!0}].concat(Object(o.a)(t))}))}),[r,j.a,h]),s=Object(a.useCallback)((function(e,t){r((function(c){return c.map((function(c){return c.id===e?Object(l.a)(Object(l.a)({},c),t):c}))}),[r])})),m=Object(a.useCallback)((function(e){r((function(t){return t.filter((function(t){return t.id!==e}))}))}),[r]);return Object(n.jsxs)("section",{className:"tracker",children:[Object(n.jsx)("h1",{className:"tracker__title",children:"tracker"}),Object(n.jsxs)("div",{className:"tracker__content",children:[Object(n.jsx)(O,{onSubmit:i}),Object(n.jsx)(x,{trackers:c,updateTracker:s,deleteTracker:m})]})]})}));s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(p,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.bbf9a7d8.chunk.js.map