{"version":3,"sources":["components/Form/Form.jsx","helpers/getSeconds.js","helpers/parseTime.js","components/Tracker-item/Tracker-item.jsx","components/TrackerList/TrackerList.jsx","App.jsx","index.jsx"],"names":["Form","React","memo","onSubmit","useState","trackerName","setTrackerName","changeTrackerName","useCallback","target","value","handleSubmit","event","preventDefault","length","Date","toLocaleDateString","handleKeyDown","key","className","type","placeholder","onChange","onKeyDown","xmlns","viewBox","d","fill","getSeconds","Math","floor","now","parseTime","sec","secondsToParse","hours","mins","seconds","toString","Tracker","tracker","updateTracker","deleteTracker","trackerPlayToggel","isTimerOn","id","timeOutStart","timeOut","dataSeconds","startTimer","time","useEffect","timex","setTimeout","clearInterval","classNames","name","Object","values","join","onClick","enableBackground","fillRule","height","width","x","y","TrackerList","trackers","map","App","setTackers","trackersFromLocalStorage","localStorage","getItem","updatedTrackers","JSON","parse","setItem","stringify","addTracker","currentTrackers","shortid","generate","trackerId","renewal","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.222be84e.chunk.js","sourcesContent":["import React, { useCallback, useState } from 'react';\nimport './Form.scss';\n\nexport const Form = React.memo(({ onSubmit }) => {\n  const [trackerName, setTrackerName] = useState('');\n\n  const changeTrackerName = useCallback(({ target }) => {\n    setTrackerName(target.value);\n  }, [setTrackerName]);\n\n  const handleSubmit = useCallback((event) => {\n    event.preventDefault();\n\n    trackerName.length\n      ? onSubmit(trackerName)\n      : onSubmit((new Date()).toLocaleDateString());\n\n    setTrackerName('');\n  }, [trackerName, onSubmit]);\n\n  const handleKeyDown = useCallback((event) => {\n    if (event.key !== 'Enter') {\n      return;\n    }\n\n    handleSubmit(event);\n  });\n\n  return (\n    <form\n      className=\"form\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"form__input\"\n        placeholder=\"Enter tracker name\"\n        value={trackerName}\n        onChange={changeTrackerName}\n        onKeyDown={handleKeyDown}\n      />\n      <button\n        type=\"submit\"\n        className=\"form__button\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          className=\"form__start-icon\"\n        >\n          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          <path d=\"M8 5v14l11-7z\" />\n        </svg>\n      </button>\n    </form>\n  );\n});\n","export const getSeconds = () => Math.floor(Date.now() / 1000);\n","export const parseTime = (sec) => {\n  let secondsToParse = sec;\n  let hours = 0;\n  let mins = 0;\n  let seconds = 0;\n\n  if (secondsToParse >= 3600) {\n    hours = Math.floor(secondsToParse / 3600);\n    secondsToParse -= hours * 3600;\n  }\n\n  if (secondsToParse >= 60) {\n    mins = Math.floor(secondsToParse / 60);\n    secondsToParse -= mins * 60;\n  }\n\n  seconds = secondsToParse % 60;\n\n  seconds = seconds < 10 ? `0${seconds}` : seconds.toString();\n  mins = mins < 10 ? `0${mins}` : mins.toString();\n  hours = hours < 10 ? `0${hours}` : hours.toString();\n\n  return {\n    hours,\n    mins,\n    seconds,\n  };\n};\n","import React, { useCallback, useEffect } from 'react';\nimport classNames from 'classnames';\nimport './Tracker-item.scss';\nimport { getSeconds } from '../../helpers/getSeconds';\nimport { parseTime } from '../../helpers/parseTime';\n\nexport const Tracker = React.memo(({\n  tracker,\n  updateTracker,\n  deleteTracker,\n}) => {\n  const trackerPlayToggel = useCallback(() => {\n    if (tracker.isTimerOn) {\n      updateTracker(tracker.id, {\n        isTimerOn: !tracker.isTimerOn, timeOutStart: getSeconds(),\n      });\n    } else {\n      const timeOut = getSeconds() - tracker.timeOutStart;\n\n      updateTracker(tracker.id, {\n        isTimerOn: !tracker.isTimerOn,\n        dataSeconds: tracker.dataSeconds + timeOut,\n        timeOutStart: null,\n      });\n    }\n  }, [updateTracker, tracker, getSeconds]);\n\n  const startTimer = useCallback(() => {\n    updateTracker(tracker.id, {\n      time: parseTime(getSeconds() - tracker.dataSeconds),\n    });\n  }, [tracker, updateTracker, parseTime, getSeconds]);\n\n  useEffect(() => {\n    const timex = setTimeout(() => startTimer(), 1000);\n\n    if (!tracker.isTimerOn) {\n      clearInterval(timex);\n    }\n  }, [tracker.isTimerOn, setTimeout, clearInterval, startTimer]);\n\n  return (\n    <div className={classNames('tracker-item', {\n      'tracker-item--active': tracker.isTimerOn,\n    })}\n    >\n      <p className=\"tracker-item__name\">{tracker.name}</p>\n      <div className=\"tracker-item__time-controlers\">\n        <span className=\"tracker-item__time\">\n          {Object.values(tracker.time).join(':')}\n        </span>\n\n        <button\n          type=\"button\"\n          className=\"tracker-item__button\"\n          onClick={trackerPlayToggel}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            className=\"tracker-item__svg\"\n          >\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            {tracker.isTimerOn\n              ? <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" />\n              : <path d=\"M8 5v14l11-7z\" />\n            }\n          </svg>\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"tracker-item__button tracker-item__button--dangerous\"\n          onClick={useCallback(() => {\n            deleteTracker(tracker.id);\n          }, [deleteTracker, tracker])}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            enableBackground=\"new 0 0 24 24\"\n            viewBox=\"0 0 24 24\"\n            className=\"tracker-item__svg\"\n          >\n            <g>\n              <rect fill=\"none\" fillRule=\"evenodd\" height=\"24\" width=\"24\" />\n              <rect fillRule=\"evenodd\" height=\"3\" width=\"16\" x=\"4\" y=\"11\" />\n            </g>\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n});\n","import React from 'react';\nimport { Tracker } from '../Tracker-item';\nimport './TrackerList.scss';\n\nexport const TrackerList = React.memo(({\n  trackers,\n  updateTracker,\n  deleteTracker,\n}) => (\n  <ul className=\"list\">\n    {trackers.map(tracker => (\n      <li key={tracker.id} className=\"list__item\">\n        <Tracker\n          tracker={tracker}\n          updateTracker={updateTracker}\n          deleteTracker={deleteTracker}\n        />\n      </li>\n    ))}\n  </ul>\n));\n","import React, { useCallback, useEffect, useState } from 'react';\nimport shortid from 'shortid';\nimport './App.scss';\nimport { Form } from './components/Form/Form';\nimport { TrackerList } from './components/TrackerList/TrackerList';\nimport { getSeconds } from './helpers/getSeconds';\nimport { parseTime } from './helpers/parseTime';\n\nexport const App = React.memo(() => {\n  const [trackers, setTackers] = useState([]);\n\n  useEffect(() => {\n    const trackersFromLocalStorage = localStorage.getItem('trackers');\n\n    if (trackersFromLocalStorage) {\n      const parsedTrackers = JSON.parse(trackersFromLocalStorage);\n\n      const updatedTrackers = parsedTrackers.map(tracker => (tracker.isTimerOn\n        ? ({\n          ...tracker,\n          time: parseTime(getSeconds() - tracker.dataSeconds),\n        })\n        : tracker));\n\n      setTackers(updatedTrackers);\n    }\n\n    // return () => {\n    //   localStorage.setItem('trackers', JSON.stringify(trackers));\n    // };\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('trackers', JSON.stringify(trackers));\n  }, [trackers]);\n\n  const addTracker = useCallback((trackerName) => {\n    setTackers(currentTrackers => ([\n      {\n        id: shortid.generate(),\n        name: trackerName,\n        time: {\n          hours: '00',\n          mins: '00',\n          seconds: '00',\n        },\n        dataSeconds: getSeconds(),\n        timeOutStart: null,\n        isTimerOn: true,\n      },\n      ...currentTrackers,\n    ]));\n  }, [setTackers, shortid, getSeconds]);\n\n  const updateTracker = useCallback((trackerId, renewal) => {\n    setTackers(currentTrackers => currentTrackers\n      .map(tracker => (tracker.id === trackerId\n        ? {\n          ...tracker,\n          ...renewal,\n        }\n        : tracker)),\n    [setTackers]);\n  });\n\n  const deleteTracker = useCallback((trackerId) => {\n    setTackers(currentTrackers => currentTrackers\n      .filter(tracker => tracker.id !== trackerId));\n  }, [setTackers]);\n\n  return (\n    <section className=\"tracker\">\n      <h1 className=\"tracker__title\">tracker</h1>\n      <div className=\"tracker__content\">\n        <Form onSubmit={addTracker} />\n\n        <TrackerList\n          trackers={trackers}\n          updateTracker={updateTracker}\n          deleteTracker={deleteTracker}\n        />\n      </div>\n    </section>\n  );\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './vars.scss';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}